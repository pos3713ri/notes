<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Histograms in R | Concepts and Computation: An Introduction to Political Methodology</title>
  <meta name="description" content="These are my notes for my class introducing the fundamental conceptual and computational tools to first-year PhD students in politial science." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Histograms in R | Concepts and Computation: An Introduction to Political Methodology" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are my notes for my class introducing the fundamental conceptual and computational tools to first-year PhD students in politial science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Histograms in R | Concepts and Computation: An Introduction to Political Methodology" />
  
  <meta name="twitter:description" content="These are my notes for my class introducing the fundamental conceptual and computational tools to first-year PhD students in politial science." />
  

<meta name="author" content="Rob Lytle and Carlisle Rainey" />


<meta name="date" content="2020-02-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="histograms.html"/>
<link rel="next" href="average-and-sd.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script>
    $(document).ready(function () {
        process_solutions();
    });
    function process_solutions() {
        $("div.section[id^='solution']").each(function(i) {
        var soln_wrapper_id = "cvxr_ex_" + i;
        var solution_id = $(this).attr('id');
        var button = $("<button onclick=\"toggle_solution('" + soln_wrapper_id + "')\">Show/Hide</button>");
        var new_div = $("<div id='" + soln_wrapper_id + "' class='solution' style='display: none;'></div>");
        var h = $(this).first();
        var others = $(this).children().slice(1);
        $(others).each(function() {
            $(this).appendTo($(new_div));
        });
        $(button).insertAfter($(h));
        $(new_div).insertAfter($(button));
        })
    }
    function toggle_solution(el_id) {
      $("#" + el_id).toggle();
    } 
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Concepts and Computation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a></li>
<li class="part"><span><b>I Data Reduction</b></span></li>
<li class="chapter" data-level="2" data-path="histograms.html"><a href="histograms.html"><i class="fa fa-check"></i><b>2</b> Histograms</a><ul>
<li class="chapter" data-level="2.1" data-path="histograms.html"><a href="histograms.html#density-and-bins"><i class="fa fa-check"></i><b>2.1</b> Density and Bins</a><ul>
<li class="chapter" data-level="2.1.1" data-path="histograms.html"><a href="histograms.html#defining-bins"><i class="fa fa-check"></i><b>2.1.1</b> Defining Bins</a></li>
<li class="chapter" data-level="2.1.2" data-path="histograms.html"><a href="histograms.html#calculating-density"><i class="fa fa-check"></i><b>2.1.2</b> Calculating Density</a></li>
<li class="chapter" data-level="2.1.3" data-path="histograms.html"><a href="histograms.html#a-note-on-bin-width"><i class="fa fa-check"></i><b>2.1.3</b> A Note on Bin Width</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="histograms.html"><a href="histograms.html#visualizing-data"><i class="fa fa-check"></i><b>2.2</b> Visualizing Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="histograms-in-r.html"><a href="histograms-in-r.html"><i class="fa fa-check"></i><b>3</b> Histograms in R</a><ul>
<li class="chapter" data-level="3.1" data-path="histograms-in-r.html"><a href="histograms-in-r.html#nominate-data"><i class="fa fa-check"></i><b>3.1</b> NOMINATE Data</a></li>
<li class="chapter" data-level="3.2" data-path="histograms-in-r.html"><a href="histograms-in-r.html#histograms-geom_histogram"><i class="fa fa-check"></i><b>3.2</b> Histograms: <code>geom_histogram()</code></a><ul>
<li class="chapter" data-level="3.2.1" data-path="histograms-in-r.html"><a href="histograms-in-r.html#the-three-critical-components"><i class="fa fa-check"></i><b>3.2.1</b> The Three Critical Components</a></li>
<li class="chapter" data-level="3.2.2" data-path="histograms-in-r.html"><a href="histograms-in-r.html#drawing-a-histogram"><i class="fa fa-check"></i><b>3.2.2</b> Drawing a Histogram</a></li>
<li class="chapter" data-level="3.2.3" data-path="histograms-in-r.html"><a href="histograms-in-r.html#counts-and-densities"><i class="fa fa-check"></i><b>3.2.3</b> Counts and Densities</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="histograms-in-r.html"><a href="histograms-in-r.html#filtering-filter"><i class="fa fa-check"></i><b>3.3</b> Filtering: <code>filter()</code></a></li>
<li class="chapter" data-level="3.4" data-path="histograms-in-r.html"><a href="histograms-in-r.html#faceting-facet_wrap"><i class="fa fa-check"></i><b>3.4</b> Faceting: <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="3.5" data-path="histograms-in-r.html"><a href="histograms-in-r.html#density-plots-geom_density"><i class="fa fa-check"></i><b>3.5</b> Density Plots: <code>geom_density()</code></a></li>
<li class="chapter" data-level="3.6" data-path="histograms-in-r.html"><a href="histograms-in-r.html#color-fill-and-alpha"><i class="fa fa-check"></i><b>3.6</b> Color, Fill, and Alpha</a><ul>
<li class="chapter" data-level="3.6.1" data-path="histograms-in-r.html"><a href="histograms-in-r.html#color"><i class="fa fa-check"></i><b>3.6.1</b> Color</a></li>
<li class="chapter" data-level="3.6.2" data-path="histograms-in-r.html"><a href="histograms-in-r.html#fill"><i class="fa fa-check"></i><b>3.6.2</b> Fill</a></li>
<li class="chapter" data-level="3.6.3" data-path="histograms-in-r.html"><a href="histograms-in-r.html#alpha"><i class="fa fa-check"></i><b>3.6.3</b> Alpha</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="histograms-in-r.html"><a href="histograms-in-r.html#labels-labs"><i class="fa fa-check"></i><b>3.7</b> Labels: <code>labs()</code></a></li>
<li class="chapter" data-level="3.8" data-path="histograms-in-r.html"><a href="histograms-in-r.html#themes-theme_bw-and-others"><i class="fa fa-check"></i><b>3.8</b> Themes: <code>theme_bw()</code> and Others</a></li>
<li class="chapter" data-level="3.9" data-path="histograms-in-r.html"><a href="histograms-in-r.html#exercises"><i class="fa fa-check"></i><b>3.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="average-and-sd.html"><a href="average-and-sd.html"><i class="fa fa-check"></i><b>4</b> Average and SD</a><ul>
<li class="chapter" data-level="4.1" data-path="average-and-sd.html"><a href="average-and-sd.html#the-intuition"><i class="fa fa-check"></i><b>4.1</b> The Intuition</a></li>
<li class="chapter" data-level="4.2" data-path="average-and-sd.html"><a href="average-and-sd.html#the-measures"><i class="fa fa-check"></i><b>4.2</b> The Measures</a><ul>
<li class="chapter" data-level="4.2.1" data-path="average-and-sd.html"><a href="average-and-sd.html#the-average"><i class="fa fa-check"></i><b>4.2.1</b> The Average</a></li>
<li class="chapter" data-level="4.2.2" data-path="average-and-sd.html"><a href="average-and-sd.html#the-median"><i class="fa fa-check"></i><b>4.2.2</b> The Median</a></li>
<li class="chapter" data-level="4.2.3" data-path="average-and-sd.html"><a href="average-and-sd.html#the-standard-deviation"><i class="fa fa-check"></i><b>4.2.3</b> The Standard Deviation</a></li>
<li class="chapter" data-level="4.2.4" data-path="average-and-sd.html"><a href="average-and-sd.html#other-summaries"><i class="fa fa-check"></i><b>4.2.4</b> Other Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html"><i class="fa fa-check"></i><b>5</b> Average and SD in R</a><ul>
<li class="chapter" data-level="5.1" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#mean-and-sd"><i class="fa fa-check"></i><b>5.1</b> <code>mean()</code> and <code>sd()</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#a-note-about-rs-sd-function"><i class="fa fa-check"></i><b>5.1.1</b> A Note About R’s <code>sd()</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#other-summaries-1"><i class="fa fa-check"></i><b>5.2</b> Other Summaries</a></li>
<li class="chapter" data-level="5.3" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#data-frame-nuance"><i class="fa fa-check"></i><b>5.3</b> Data Frame Nuance</a></li>
<li class="chapter" data-level="5.4" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#the-group_bysummarize-workflow"><i class="fa fa-check"></i><b>5.4</b> The <code>group_by()</code>/<code>summarize()</code> Workflow</a><ul>
<li class="chapter" data-level="5.4.1" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#group_by"><i class="fa fa-check"></i><b>5.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#summarize"><i class="fa fa-check"></i><b>5.4.2</b> <code>summarize()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#geom_line"><i class="fa fa-check"></i><b>5.5</b> <code>geom_line()</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="the-normal-model.html"><a href="the-normal-model.html"><i class="fa fa-check"></i><b>6</b> The Normal Model</a><ul>
<li class="chapter" data-level="6.1" data-path="the-normal-model.html"><a href="the-normal-model.html#the-intuition-1"><i class="fa fa-check"></i><b>6.1</b> The Intuition</a></li>
<li class="chapter" data-level="6.2" data-path="the-normal-model.html"><a href="the-normal-model.html#examples"><i class="fa fa-check"></i><b>6.2</b> Examples</a></li>
<li class="chapter" data-level="6.3" data-path="the-normal-model.html"><a href="the-normal-model.html#the-empirical-rule"><i class="fa fa-check"></i><b>6.3</b> The Empirical Rule</a></li>
<li class="chapter" data-level="6.4" data-path="the-normal-model.html"><a href="the-normal-model.html#the-normal-approximation"><i class="fa fa-check"></i><b>6.4</b> The Normal Approximation</a></li>
<li class="chapter" data-level="6.5" data-path="the-normal-model.html"><a href="the-normal-model.html#the-normal-table"><i class="fa fa-check"></i><b>6.5</b> The Normal Table</a></li>
<li class="chapter" data-level="6.6" data-path="the-normal-model.html"><a href="the-normal-model.html#using-a-normal-approximation"><i class="fa fa-check"></i><b>6.6</b> Using a Normal Approximation</a></li>
<li class="chapter" data-level="6.7" data-path="the-normal-model.html"><a href="the-normal-model.html#example-the-extremity-of-party-leaders"><i class="fa fa-check"></i><b>6.7</b> Example: The Extremity of Party Leaders</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-x-y-space.html"><a href="the-x-y-space.html"><i class="fa fa-check"></i><b>7</b> The X-Y Space</a><ul>
<li class="chapter" data-level="7.1" data-path="the-x-y-space.html"><a href="the-x-y-space.html#points"><i class="fa fa-check"></i><b>7.1</b> Points</a></li>
<li class="chapter" data-level="7.2" data-path="the-x-y-space.html"><a href="the-x-y-space.html#lines"><i class="fa fa-check"></i><b>7.2</b> Lines</a><ul>
<li class="chapter" data-level="7.2.1" data-path="the-x-y-space.html"><a href="the-x-y-space.html#the-intercept"><i class="fa fa-check"></i><b>7.2.1</b> The Intercept</a></li>
<li class="chapter" data-level="7.2.2" data-path="the-x-y-space.html"><a href="the-x-y-space.html#slope"><i class="fa fa-check"></i><b>7.2.2</b> Slope</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="the-scatterplot.html"><a href="the-scatterplot.html"><i class="fa fa-check"></i><b>8</b> The Scatterplot</a><ul>
<li class="chapter" data-level="8.1" data-path="the-scatterplot.html"><a href="the-scatterplot.html#geom_point"><i class="fa fa-check"></i><b>8.1</b> <code>geom_point()</code></a></li>
<li class="chapter" data-level="8.2" data-path="the-scatterplot.html"><a href="the-scatterplot.html#example-gamsons-law"><i class="fa fa-check"></i><b>8.2</b> Example: Gamson’s Law</a></li>
<li class="chapter" data-level="8.3" data-path="the-scatterplot.html"><a href="the-scatterplot.html#example-gapminder"><i class="fa fa-check"></i><b>8.3</b> Example: Gapminder</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html"><i class="fa fa-check"></i><b>9</b> Correlation Coefficient</a><ul>
<li class="chapter" data-level="9.1" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#intuition"><i class="fa fa-check"></i><b>9.1</b> Intuition</a></li>
<li class="chapter" data-level="9.2" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#computing"><i class="fa fa-check"></i><b>9.2</b> Computing</a><ul>
<li class="chapter" data-level="9.2.1" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#by-hand"><i class="fa fa-check"></i><b>9.2.1</b> By Hand</a></li>
<li class="chapter" data-level="9.2.2" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#with-r"><i class="fa fa-check"></i><b>9.2.2</b> With R</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#interpreting"><i class="fa fa-check"></i><b>9.3</b> Interpreting</a></li>
<li class="chapter" data-level="9.4" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#example-clark-and-golder-2006"><i class="fa fa-check"></i><b>9.4</b> Example: Clark and Golder (2006)</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-a-normal-table.html"><a href="appendix-a-normal-table.html"><i class="fa fa-check"></i><b>A</b> Appendix: A Normal Table</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Concepts and Computation: An Introduction to Political Methodology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="histograms-in-r" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Histograms in R</h1>
<div id="nominate-data" class="section level2">
<h2><span class="header-section-number">3.1</span> NOMINATE Data</h2>
<p>Now that you have some understanding of histograms and practice with drawing histograms by hand let’s move to RStudio and try to answer one of the questions we asked at the begining of this handout: Has congress become more polarized? It turns out, this question interested Keith T. Poole and Howard Rosenthal as well. Using the voting patterns of members of congress (MCs), Poole and Rosenthal created a measure of individual MC ideology, called a DW-NOMINATE score (more information is available at <a href="https://voteview.com/about">voteview.com</a>).</p>
<p>We can use histograms of these data to visually assess the degree of polarization in the legislature. The data set <code>nominate.csv</code> includes the 100th through the 115th Congresses and contains a variable called <code>ideology</code> that <strong>quantifies</strong> a representative’s ideology, putting it on a comparable, numeric scale.</p>
<p>These data are at the legislator-Congress level, so that each row in the data set represents an individual legislator in a particular Congress. More negative values indicate a more liberal representative. More positive values indicate a more conservative representative. For example, Ron Paul is one of the most conservative representatives in the data set with a score of about 0.86. Dennis Kucinich is among the most liberal and has a score of about -0.58. Let’s assume that these data are accurate reflections of MC ideology.</p>
<p>To get started, let’s load the (cleaned) data (directly from the web, in this case).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># load packages</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">library</span>(tidyverse) <span class="co"># load tidyverse package, which has lots of useful functions.</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co"># load data</span></a>
<a class="sourceLine" id="cb2-5" title="5">nominate_df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://pos3713.github.io/data/nominate.csv&quot;</span>)</a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co"># note: for the sake of simplicity we&#39;re linking to the file directly on the course site.</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co"># feel free to download it, add it to the RStudio Cloud project, and use read_csv(&quot;nominate.csv&quot;).</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="kw">glimpse</span>(nominate_df) <span class="co"># use glimpse() to see what your data frame looks like.</span></a></code></pre></div>
<pre><code>## Observations: 7,080
## Variables: 7
## $ congress &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, …
## $ chamber  &lt;chr&gt; &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;…
## $ state    &lt;chr&gt; &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AK&quot;, &quot;AZ&quot;, &quot;…
## $ district &lt;dbl&gt; 2, 4, 3, 5, 6, 1, 7, 1, 2, 3, 5, 4, 1, 3, 1, 4, 2, 36, …
## $ party    &lt;chr&gt; &quot;Republican&quot;, &quot;Democrat&quot;, &quot;Democrat&quot;, &quot;Democrat&quot;, &quot;Demo…
## $ name     &lt;chr&gt; &quot;DICKINSON, William Louis&quot;, &quot;BEVILL, Tom&quot;, &quot;NICHOLS, Wi…
## $ ideology &lt;dbl&gt; 0.398, -0.213, -0.042, -0.175, -0.060, 0.373, -0.085, 0…</code></pre>
<p>The variables have very descriptive names, but if you need more information, look in <a href="https://pos3713.github.io/data/nominate-codebook.html">the codebook</a>.</p>
</div>
<div id="histograms-geom_histogram" class="section level2">
<h2><span class="header-section-number">3.2</span> Histograms: <code>geom_histogram()</code></h2>
<p>To draw our histogram we’ll use R package <code>ggplot2</code>, which is part of tidyverse. When we ran <code>library(tidyverse)</code>, it automatically loaded ggplot2. If we hadn’t already run <code>library(tidyverse)</code>, we could also run <code>library(ggplot2)</code>.</p>
<p>Though ggplot2 is a complex package, we’ll get some sense of how it works this semester. It is <a href="https://ggplot2.tidyverse.org">well-documented online</a>, but keep in mind that I’ve chosen the course content to balance simplicity and utility.</p>
<div id="the-three-critical-components" class="section level3">
<h3><span class="header-section-number">3.2.1</span> The Three Critical Components</h3>
<p>There are three critical components to each plot created using ggplot2, which we’ll refer to as a “ggplot.”</p>
<ol style="list-style-type: decimal">
<li><strong>the data</strong>: The data frame that contains the variable(s) you want to visualize.</li>
<li><strong>the aesthetics</strong>: the relationship between the variables in the data set and the aesthetics of the plotted objects–location, color, size, shape, etc.</li>
<li><strong>the geometry</strong>: the type of plot (e.g., histogram, scatterplot, bar graph, line graph, etc). For now, we’re focused on histograms.</li>
</ol>
<p>There are other components, such as scales, statistics, and coordinate systems, that we might use to make more complicated plots. However, we can usuall use the “three critical components” (data aesthetics, and geometry) to build the plot we want.</p>
</div>
<div id="drawing-a-histogram" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Drawing a Histogram</h3>
<p>Now that we’re all set up let’s draw a histogram.</p>
<ol style="list-style-type: decimal">
<li>data: the first argument to <code>ggplot()</code>. Because the variable we want to plot, <code>ideology</code>, is a variable contained in the data frame <code>nominate_df</code>, we use <code>nominate_df</code> as the first argument.</li>
<li>aesthetic: the second argument to <code>ggplot()</code>. Because we want to create a histogram, we want <code>ideology</code> to correspond to the location along the horizontal-axis. To create this correspondence, we use <code>aes(x = ideology)</code> as the second argument. Notice that <code>aes()</code> is a function itself with its own arguments. In this case (and in most others), <code>aes(...)</code> is also the second argument to <code>ggplot()</code>.</li>
<li>geometry: added to <code>ggplot(...)</code> with <code>+</code>. Because we want a histogram, we use <code>geom_histogram()</code>. Notice that <code>geom_histogram()</code> is itself a function, and that we’re giving it no arguments. It’s weird to add a function to another function with <code>+</code>; nothing else in <code>R</code> works quite like this. It might help to think this “addition” to your <code>ggplot()</code> as an attachment to your ggplot (data and aesthetics). As we’ll see later, there are optional “additions” we can use beyond the geometry.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># specify data and aesthetic, then add the geometry</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">ggplot</span>(nominate_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-10-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>This histogram probably isn’t too far off from what you would expect to see. We have a grouping of Democrats (presumably) on the left and a grouping of Republicans (again, presumably) on the right. You could probably come up with a model that explains why there are few politicians in the center.</p>

<div class="exercise">
<span id="exr:unnamed-chunk-11" class="exercise"><strong>Exercise 3.1  </strong></span>In your own project, reproduce the histogram above. Identity at least one interesting feature of the data. Write a two or three sentences describing a model that explains that feature (i.e., speculate about why the data look the way they do).
</div>

</div>
<div id="counts-and-densities" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Counts and Densities</h3>
<p>I’ve argued that we should use <strong>density</strong> (not counts or percentages) as the height of our bars (i.e., the vertical axis). But notice that <code>geom_histogram()</code> uses counts by default.</p>
<p>This is important, because if the bin widths of the histograms are not equal, then counts create a misleading histogram. However, <strong>if the bin widths are equal, then counts and densities produce identically shaped histograms</strong>. (The vertical axis has a different scale, though.) Becaue we tend to use equal bin widths in practice, it often doesn’t matter whether we use counts or densities.</p>
<p>That said, it helps if we can become fluent in thinking about densities, because we use them heavily later in the class.</p>
<p>If you want to change the default behavior, add <code>y = ..density..</code> to the aesthetics. (By default, <code>geom_histogram()</code> sets <code>y = ..count..</code>.)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># specify data and aesthetic, then add the geometry</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">ggplot</span>(nominate_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">y =</span> ..density..)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-12-1.png" width="288" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-13" class="exercise"><strong>Exercise 3.2  </strong></span>List and describe the three critical components of a ggplot.
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-14" class="exercise"><strong>Exercise 3.3  </strong></span>In the following snippet of code, label the data, the aesthetics, and the geometry: <code>ggplot(nominate_df, aes(x = ideology)) + geom_histogram()</code>. How many functions are there? How many arguments have we supplied to each function? Which argments are named and unnamed?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-15" class="exercise"><strong>Exercise 3.4  </strong></span>In this section, we’ve seen three new functions: <code>ggplot()</code>, <code>aes()</code>, and <code>geom_histogram()</code>. In your own words, describe what it does and how to use it.
</div>

</div>
</div>
<div id="filtering-filter" class="section level2">
<h2><span class="header-section-number">3.3</span> Filtering: <code>filter()</code></h2>
<p>Above, we plot the distribution of ideology scores for 16 different Congresses (the 100th through the 115th) in the same histogram.</p>
<p>Let’s create a histogram for the 100th Congress only.</p>
<p>To do this, first create a dataset that contains only observations from the 100th Congress.</p>
<p>To create a subset of <code>nominate_df</code> that only contains only the 100th Congress, use the <code>filter()</code> function (part of tidyverse!). The first argument to <code>filter()</code> is the data frame to be filtered, and the second argument is a logical statement that identifies the cases <em>to keep</em>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># filter the 100th congress</span></a>
<a class="sourceLine" id="cb6-2" title="2">nominate100_df &lt;-<span class="st"> </span><span class="kw">filter</span>(nominate_df, congress <span class="op">==</span><span class="st"> </span><span class="dv">100</span>)  </a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co"># keep only obs. where the variable congress equals exactly 100</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co"># quick look</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="kw">glimpse</span>(nominate100_df)</a></code></pre></div>
<pre><code>## Observations: 441
## Variables: 7
## $ congress &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, …
## $ chamber  &lt;chr&gt; &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;…
## $ state    &lt;chr&gt; &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AK&quot;, &quot;AZ&quot;, &quot;…
## $ district &lt;dbl&gt; 2, 4, 3, 5, 6, 1, 7, 1, 2, 3, 5, 4, 1, 3, 1, 4, 2, 36, …
## $ party    &lt;chr&gt; &quot;Republican&quot;, &quot;Democrat&quot;, &quot;Democrat&quot;, &quot;Democrat&quot;, &quot;Demo…
## $ name     &lt;chr&gt; &quot;DICKINSON, William Louis&quot;, &quot;BEVILL, Tom&quot;, &quot;NICHOLS, Wi…
## $ ideology &lt;dbl&gt; 0.398, -0.213, -0.042, -0.175, -0.060, 0.373, -0.085, 0…</code></pre>
<p>Use this new data frame to draw the histgram.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># create histogram for 100th congress</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-17-1.png" width="288" /></p>
<p>Repeat that process, but for the 115th Congress.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># subset data to only 115th congress</span></a>
<a class="sourceLine" id="cb9-2" title="2">nominate115_df &lt;-<span class="st"> </span><span class="kw">filter</span>(nominate_df, congress <span class="op">==</span><span class="st"> </span><span class="dv">115</span>)</a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co"># quick look</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="kw">glimpse</span>(nominate115_df)</a></code></pre></div>
<pre><code>## Observations: 444
## Variables: 7
## $ congress &lt;dbl&gt; 115, 115, 115, 115, 115, 115, 115, 115, 115, 115, 115, …
## $ chamber  &lt;chr&gt; &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;House&quot;, &quot;…
## $ state    &lt;chr&gt; &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AL&quot;, &quot;AK&quot;, &quot;AZ&quot;, &quot;…
## $ district &lt;dbl&gt; 3, 7, 2, 5, 1, 6, 4, 1, 8, 3, 4, 6, 9, 2, 7, 5, 1, 8, 1…
## $ party    &lt;chr&gt; &quot;Republican&quot;, &quot;Democrat&quot;, &quot;Republican&quot;, &quot;Republican&quot;, &quot;…
## $ name     &lt;chr&gt; &quot;ROGERS, Mike Dennis&quot;, &quot;SEWELL, Terri&quot;, &quot;ROBY, Martha&quot;,…
## $ ideology &lt;dbl&gt; 0.338, -0.390, 0.367, 0.600, 0.544, 0.779, 0.361, 0.279…</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># create histogram</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">ggplot</span>(nominate115_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-18-1.png" width="288" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-19" class="exercise"><strong>Exercise 3.5  </strong></span>Reproduce the histograms for the 100th and 115th Congresses above. Identify an important difference between the two? Is the House becoming more polarized over time?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-20" class="exercise"><strong>Exercise 3.6  </strong></span>Explain what the <code>filter()</code> function does and how to use it. What are the first and second arguments? What type of object does it return? Use <code>help(filter)</code> for the details.
</div>

</div>
<div id="faceting-facet_wrap" class="section level2">
<h2><span class="header-section-number">3.4</span> Faceting: <code>facet_wrap()</code></h2>
<p>Let’s investigate this divergence in the parties more carefully.</p>
<p>Is the left hump actually Democrats? Is the right hump actually Republicans? Let’s draw a separate histogram for Democrats and Republicans.</p>
<p>We accomplished something similar above using <code>filter()</code> to create separate datasets for each Congress. But there’s an easier way!</p>
<p>Instead of creating a separate dataset for each party, let’s just add a facet to the plot. A facet simply breaks the dataset into subsets and creates one plot for each subset.</p>
<p>Create a facet by adding the function <code>facet_wrap()</code> to the plot. You need to specify the faceting variable as an argument to the <code>facet_wrap()</code> function, but you cannot supply it directly. Instead, you need to wrap the faceting variable in the <code>vars()</code> function. In this case, we’ll facet by <code>party</code>, adding <code>+ facet_wrap(vars(party))</code> (i.e., “create a facet by the variable party”) to the ggplot we’ve been using.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># build histogram</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(party))</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-21-1.png" width="576" /></p>
<p>Indeed, the left hump is Democrats and the right hump is Republicans.</p>

<div class="exercise">
<span id="exr:unnamed-chunk-22" class="exercise"><strong>Exercise 3.7  </strong></span>What does a facet do to a plot?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-23" class="exercise"><strong>Exercise 3.8  </strong></span>Explain what the <code>facet_wrap()</code> function does and how to use it.
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-24" class="exercise"><strong>Exercise 3.9  </strong></span>Suppose you added <code>+ facet_wrap(party)</code>. Would that work? What is missing?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-25" class="exercise"><strong>Exercise 3.10  </strong></span>Suppose you added <code>+ facet_wrap(vars(state))</code> to <code>ggplot(nominate100_df, aes(x = ideology)) + geom_histogram()</code>. Without trying it, predict what will happen. Try it.
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-26" class="exercise"><strong>Exercise 3.11  </strong></span><em>Difficult</em>. <code>facet_grid()</code> offers an alternative method to faceting. How is it different from <code>facet_wrap()</code>? You might find <a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">this</a> documentation helpful. With an example, show how to use <code>facet_grid()</code>.
</div>

</div>
<div id="density-plots-geom_density" class="section level2">
<h2><span class="header-section-number">3.5</span> Density Plots: <code>geom_density()</code></h2>
<p>FPP sometimes uses a rough sketch of a histogram using a smooth curve rather than a complete histogram with vertical bars.</p>
<p>For our purposes, a density plot is a smooth curve that approximates a histogram. As an example, here’s a plot with both the smoothed curve (in red) and the actual bars (in black). You can see that the smooth curve roughly approximates the shape of the histogram.</p>
<p>There’s a complicated mathematical procedure that produces the smoothed curve, but it’s not much different than simply approximating the shape with a pencil.</p>
<p><img src="notes_files/figure-html/unnamed-chunk-27-1.png" width="288" /></p>
<p>We can easily create a density plot rather than a histogram by using <code>geom_density()</code> as the geometry rather than <code>geom_histogram()</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># create density plot</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-28-1.png" width="288" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-29" class="exercise"><strong>Exercise 3.12  </strong></span>How is a density plot similar to and different from a histogram? (The proceedure for estimating the density is actually complicated, but I care about the intuition.)
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-30" class="exercise"><strong>Exercise 3.13  </strong></span>What does the function <code>geom_density()</code> do and how do you use it?
</div>

</div>
<div id="color-fill-and-alpha" class="section level2">
<h2><span class="header-section-number">3.6</span> Color, Fill, and Alpha</h2>
<div id="color" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Color</h3>
<p>A density plot has the advantage it uses less ink. Because of this, we could use color rather than faceting to distinguish Republicans and Democrats.</p>
<p>To distinguish Republicans and Democrats with color, add <code>color = party</code> to the aesthetics.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">color =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-31-1.png" width="384" /></p>
<p>This look really good! Since we are most interested in the overlap between the parties, I think this density plot makes more sense for us, so let’s stick with it.</p>
<p><code>ggplot()</code> apparently doesn’t understand U.S. politics, because it colors Democrats red and Republicans blue-ish. The default colors usually work fine, but here’s a quick fix that we only need for this example if you want to use it.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">color =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="st">    </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;Democrat&quot;</span> =<span class="st"> &quot;blue&quot;</span>, <span class="st">&quot;Republican&quot;</span> =<span class="st"> &quot;red&quot;</span>))</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-32-1.png" width="384" /></p>
</div>
<div id="fill" class="section level3">
<h3><span class="header-section-number">3.6.2</span> Fill</h3>
<p>Instead of coloring the lines differently, you can “fill” the density with different colors. While the color aesthetic represents the color of the line itself, the fill aesthetic represents the fill inside the line.</p>
<p>To distinguish between the parties using fill, add <code>fill = party</code> to the aesthetics.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">fill =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-33-1.png" width="384" /></p>
</div>
<div id="alpha" class="section level3">
<h3><span class="header-section-number">3.6.3</span> Alpha</h3>
<p>Notice that the Republican fill (blue-green) completely covers the Democrat fill (orange-red). But here’s a hint. The <code>alpha</code> argument to <code>geom_density()</code> controls the transparency. <code>alpha = 0</code> is completely transparent. <code>alpha = 1</code> is not transparent at all.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">fill =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-34-1.png" width="384" /></p>
<p>This slight transparency makes both distributions visible, even when the two overlap.</p>

<div class="exercise">
<span id="exr:unnamed-chunk-35" class="exercise"><strong>Exercise 3.14  </strong></span>Explain the difference between the color and fill aesthetics for density plots.
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-36" class="exercise"><strong>Exercise 3.15  </strong></span>Use color to show the separate distributions of ideology scores for all 15 Congresses. In other words, map the variable <code>congress</code> to the <code>color</code> aesthetic using <code>color = congress</code>. st this useful?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-37" class="exercise"><strong>Exercise 3.16  </strong></span>Explain how alpha transparency works and why you might use it. Suppose I used <code>alpha = 0.1</code> instead of <code>alpha = 0.5</code> in the plot above. How would the plot change?
</div>

</div>
</div>
<div id="labels-labs" class="section level2">
<h2><span class="header-section-number">3.7</span> Labels: <code>labs()</code></h2>
<p>By default, <code>ggplot()</code> uses the variable names to label the axes and legend. By default, there is no title, subtitle, or caption.</p>
<p>You will usually want to improve the axis labels and legends. You will sometimes want to add a title, subtitle, and/or caption. Make these changes by adding the <code>labs()</code> function to the plot.</p>
<p>To the <code>labs()</code> function, supply one argument per aesthetic, such as <code>x</code>, <code>y</code>, <code>color</code>, or <code>fill</code>. You can also supply arguments for <code>title</code>, <code>subtitle</code>, or <code>caption</code> if you wish. These argument are character strings (surrounded by quotes), such as <code>"Ideology Score"</code> or <code>"A Density Plot of Ideology Scores for the 100th Congress"</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">fill =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Ideology Score&quot;</span>,</a>
<a class="sourceLine" id="cb18-5" title="5">       <span class="dt">y =</span> <span class="st">&quot;Density&quot;</span>,</a>
<a class="sourceLine" id="cb18-6" title="6">       <span class="dt">fill =</span> <span class="st">&quot;Party&quot;</span>,</a>
<a class="sourceLine" id="cb18-7" title="7">       <span class="dt">title =</span> <span class="st">&quot;A Density Plot of Ideology Scores for the 100th Congress&quot;</span>,</a>
<a class="sourceLine" id="cb18-8" title="8">       <span class="dt">subtitle =</span> <span class="st">&quot;There Are Few Moderates in Congress&quot;</span>,</a>
<a class="sourceLine" id="cb18-9" title="9">       <span class="dt">caption =</span> <span class="st">&quot;Data Source: DW-NOMINATE from voteview.com&quot;</span>)</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-38-1.png" width="576" /></p>
<p>This plot looks pretty nice.</p>

<div class="exercise">
<span id="exr:unnamed-chunk-39" class="exercise"><strong>Exercise 3.17  </strong></span>By default, how does <code>ggplot()</code> label the axes and legends?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-40" class="exercise"><strong>Exercise 3.18  </strong></span>How can you change the default labels? How can you add a title, subtitle, or caption?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-41" class="exercise"><strong>Exercise 3.19  </strong></span>Explain what the <code>labs()</code> function does and how to use it.
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-42" class="exercise"><strong>Exercise 3.20  </strong></span>Explain, in as much detail as you can, what each part the last block of code above does.
</div>

</div>
<div id="themes-theme_bw-and-others" class="section level2">
<h2><span class="header-section-number">3.8</span> Themes: <code>theme_bw()</code> and Others</h2>
<p>Use themes to control the overall look of our ggplots. The theme controls elements such as the color of the background, the font family and size, the color and size of the grid, etc.</p>
<p>There are the six themes provided with ggplot2.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Theme</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>theme_grey()</code></td>
<td>The signature ggplot2 theme with a grey background and white gridlines, designed to put the data forward yet make comparisons easy.</td>
</tr>
<tr class="even">
<td><code>theme_bw()</code></td>
<td>The classic dark-on-light ggplot2 theme. May work better for presentations displayed with a projector.</td>
</tr>
<tr class="odd">
<td><code>theme_linedraw()</code></td>
<td>A theme with only black lines of various widths on white backgrounds, reminiscent of a line drawings. Serves a purpose similar to <code>theme_bw()</code>.</td>
</tr>
<tr class="even">
<td><code>theme_light()</code></td>
<td>A theme similar to <code>theme_linedraw()</code> but with light grey lines and axes, to direct more attention towards the data.</td>
</tr>
<tr class="odd">
<td><code>theme_minimal()</code></td>
<td>A minimalist theme with no background annotations.</td>
</tr>
<tr class="even">
<td><code>theme_classic()</code></td>
<td>A classic-looking theme, with x and y axis lines and no gridlines.</td>
</tr>
</tbody>
</table>
<p>Notice what happens when you add <code>theme_bw()</code> (my favorite!) to the plot.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">fill =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-4" title="4"><span class="st">  </span><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-43-1.png" width="384" /></p>
<p>If you are interested, the <code>ggthemes</code> package includes several other themes.</p>
<table>
<thead>
<tr class="header">
<th>Theme</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>theme_economist()</code></td>
<td>based on the Economist</td>
</tr>
<tr class="even">
<td><code>theme_economist_white()</code></td>
<td>based on the Economist</td>
</tr>
<tr class="odd">
<td><code>theme_excel()</code></td>
<td>based on Excel</td>
</tr>
<tr class="even">
<td><code>theme_few()</code></td>
<td>based on Few’s “Practical Rules for Using Color in Charts”</td>
</tr>
<tr class="odd">
<td><code>theme_fivethirtyeight()</code></td>
<td>based on fivethirtyeight.com plots</td>
</tr>
<tr class="even">
<td><code>theme_gdocs()</code></td>
<td>based on Google docs</td>
</tr>
<tr class="odd">
<td><code>theme_igray()</code></td>
<td>inverse grey</td>
</tr>
<tr class="even">
<td><code>theme_pander()</code></td>
<td>based on the pander package</td>
</tr>
<tr class="odd">
<td><code>theme_solarized()</code></td>
<td>based on the Solarized palette</td>
</tr>
<tr class="even">
<td><code>theme_solarized_2()</code></td>
<td>based on the Solarized palette</td>
</tr>
<tr class="odd">
<td><code>theme_stata()</code></td>
<td>based on default Stata graphics</td>
</tr>
<tr class="even">
<td><code>theme_tufte()</code></td>
<td>based on Tufte–minimum ink, maximum data</td>
</tr>
<tr class="odd">
<td><code>theme_wsj()</code></td>
<td>based on Wall Street Journal</td>
</tr>
</tbody>
</table>
<p>Try the the infamous (famously ugly) Excel theme.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="co"># load packages</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">library</span>(ggthemes)  <span class="co"># for additional themes and even more fun!</span></a>
<a class="sourceLine" id="cb20-3" title="3"></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="co"># build density plot</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="kw">ggplot</span>(nominate100_df, <span class="kw">aes</span>(<span class="dt">x =</span> ideology, <span class="dt">fill =</span> party)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-7" title="7"><span class="st">  </span><span class="kw">theme_excel</span>()</a></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-44-1.png" width="384" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-45" class="exercise"><strong>Exercise 3.21  </strong></span>What are themes in ggplot2? What do they control/change?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-46" class="exercise"><strong>Exercise 3.22  </strong></span>How do you change the theme of a ggplot?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-47" class="exercise"><strong>Exercise 3.23  </strong></span>What are a few theme options from ggplot2? From ggthemes?
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-48" class="exercise"><strong>Exercise 3.24  </strong></span>Try a few different themes from both ggplot2 and ggthemes. What is your favorite and why?
</div>

</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">3.9</span> Exercises</h2>

<div class="exercise">
<p><span id="exr:unnamed-chunk-49" class="exercise"><strong>Exercise 3.25  </strong></span><strong>Putting It All Together</strong> Create a density plot mapping <code>ideology</code> to <code>x</code> and <code>color</code> or <code>fill</code> to <code>party</code>. Facet by <code>congress</code>. This should generate separate density plots for each Congress. Adjust the alpha transparency appropriately. Add a nice title and axis labels. If you want to fix the misleading default colors and/or fills, you can add <code>scale_color_manual(values = c("Democrat" = "blue", "Republican" = "red"))</code> and/or <code>scale_fill_manual(values = c("Democrat" = "blue", "Republican" = "red"))</code>, respectively, to your ggplot code (the first controls the color; the second controls the fill). Answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>Interpret the ideology histograms. How have the distributions of MC ideology shifted? Is Congress becoming more polarized?</li>
<li>Look at the histograms for each party in the 100th and 115th congress. Roughly, want is the average (or “typical”) ideology for each party. Has one party shifted away from the center (i.e., zero) more than the other between the 100th and 115th?</li>
<li>Has the variation <em>within</em> each party changed? Have Democrats become more, or less ideologically heterogenous? Republicans?</li>
<li>Think back to your model of congressional polarization. How well does it fit with our final histogram? Are there any features of the figure that are incompatible with your model? How could you update your model to account for these?</li>
<li>Based on these data, formulate a hypothesis predicting the distribution of ideology in the public. Given that DW-NOMINATE scores are not available for every citizen in the country, what sort of data could you gather to evaluate your claim?
</div></li>
</ol>
<details>
<summary>Solution</summary>
<p>
<p>If you rely on this solution, make sure you can explain the purpose of each line. See what changes if you take that line out, for example.</p>
<pre><code>## Warning: Removed 1 rows containing non-finite values (stat_density).</code></pre>
<img src="notes_files/figure-html/unnamed-chunk-50-1.png" width="288" />
</p>
</details>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="histograms.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="average-and-sd.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["notes.pdf", "notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
