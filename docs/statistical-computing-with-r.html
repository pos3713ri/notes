<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Statistical Computing with R | Concepts and Computation: An Introduction to Political Methodology</title>
  <meta name="description" content="These are my notes for my class introducing the fundamental conceptual and computational tools to undergraduate students in politial science." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Statistical Computing with R | Concepts and Computation: An Introduction to Political Methodology" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are my notes for my class introducing the fundamental conceptual and computational tools to undergraduate students in politial science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Statistical Computing with R | Concepts and Computation: An Introduction to Political Methodology" />
  
  <meta name="twitter:description" content="These are my notes for my class introducing the fundamental conceptual and computational tools to undergraduate students in politial science." />
  

<meta name="author" content="Rob Lytle and Carlisle Rainey" />


<meta name="date" content="2020-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="loading-data-into-r.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script>
    $(document).ready(function () {
        process_solutions();
    });
    function process_solutions() {
        $("div.section[id^='solution']").each(function(i) {
        var soln_wrapper_id = "cvxr_ex_" + i;
        var solution_id = $(this).attr('id');
        var button = $("<button onclick=\"toggle_solution('" + soln_wrapper_id + "')\">Show/Hide</button>");
        var new_div = $("<div id='" + soln_wrapper_id + "' class='solution' style='display: none;'></div>");
        var h = $(this).first();
        var others = $(this).children().slice(1);
        $(others).each(function() {
            $(this).appendTo($(new_div));
        });
        $(button).insertAfter($(h));
        $(new_div).insertAfter($(button));
        })
    }
    function toggle_solution(el_id) {
      $("#" + el_id).toggle();
    } 
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Concepts and Computation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a></li>
<li class="chapter" data-level="2" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html"><i class="fa fa-check"></i><b>2</b> Statistical Computing with R</a><ul>
<li class="chapter" data-level="2.1" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#r-as-a-calculator"><i class="fa fa-check"></i><b>2.1</b> R as a Calculator</a></li>
<li class="chapter" data-level="2.2" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#scripts"><i class="fa fa-check"></i><b>2.2</b> Scripts</a><ul>
<li class="chapter" data-level="2.2.1" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#importance"><i class="fa fa-check"></i><b>2.2.1</b> Importance</a></li>
<li class="chapter" data-level="2.2.2" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#comments"><i class="fa fa-check"></i><b>2.2.2</b> Comments</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#object-oriented-programming"><i class="fa fa-check"></i><b>2.3</b> Object-Oriented Programming</a><ul>
<li class="chapter" data-level="2.3.1" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#scalars"><i class="fa fa-check"></i><b>2.3.1</b> Scalars</a></li>
<li class="chapter" data-level="2.3.2" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#functions"><i class="fa fa-check"></i><b>2.3.2</b> Functions</a></li>
<li class="chapter" data-level="2.3.3" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#vectors"><i class="fa fa-check"></i><b>2.3.3</b> Vectors</a></li>
<li class="chapter" data-level="2.3.4" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#more-information"><i class="fa fa-check"></i><b>2.3.4</b> More Information</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#missing-values"><i class="fa fa-check"></i><b>2.4</b> Missing Values</a></li>
<li class="chapter" data-level="2.5" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#logical-operators"><i class="fa fa-check"></i><b>2.5</b> Logical Operators</a></li>
<li class="chapter" data-level="2.6" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#packages"><i class="fa fa-check"></i><b>2.6</b> Packages</a><ul>
<li class="chapter" data-level="2.6.1" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#installing-packages"><i class="fa fa-check"></i><b>2.6.1</b> Installing Packages</a></li>
<li class="chapter" data-level="2.6.2" data-path="statistical-computing-with-r.html"><a href="statistical-computing-with-r.html#loading-packages"><i class="fa fa-check"></i><b>2.6.2</b> Loading Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html"><i class="fa fa-check"></i><b>3</b> Loading Data into R</a><ul>
<li class="chapter" data-level="3.1" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#the-terms"><i class="fa fa-check"></i><b>3.1</b> The Terms</a><ul>
<li class="chapter" data-level="3.1.1" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#file-types"><i class="fa fa-check"></i><b>3.1.1</b> File Types</a></li>
<li class="chapter" data-level="3.1.2" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#comma-separated-value-format-.csv"><i class="fa fa-check"></i><b>3.1.2</b> Comma-Separated Value Format (<code>.csv</code>)</a></li>
<li class="chapter" data-level="3.1.3" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#the-working-directory"><i class="fa fa-check"></i><b>3.1.3</b> The Working Directory</a></li>
<li class="chapter" data-level="3.1.4" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#the-path"><i class="fa fa-check"></i><b>3.1.4</b> The Path</a></li>
<li class="chapter" data-level="3.1.5" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#determining-the-path"><i class="fa fa-check"></i><b>3.1.5</b> Determining the Path</a></li>
<li class="chapter" data-level="3.1.6" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#rio"><i class="fa fa-check"></i><b>3.1.6</b> <code>rio</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#data-frames"><i class="fa fa-check"></i><b>3.2</b> Data Frames</a><ul>
<li class="chapter" data-level="3.2.1" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#working-with-variables-in-data-frames"><i class="fa fa-check"></i><b>3.2.1</b> Working with Variables in Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#how-well-always-use-r"><i class="fa fa-check"></i><b>3.3</b> How We’ll Always Use R</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="histograms.html"><a href="histograms.html"><i class="fa fa-check"></i><b>4</b> Histograms</a><ul>
<li class="chapter" data-level="4.1" data-path="histograms.html"><a href="histograms.html#nominate-data"><i class="fa fa-check"></i><b>4.1</b> NOMINATE Data</a></li>
<li class="chapter" data-level="4.2" data-path="histograms.html"><a href="histograms.html#histograms-geom_histogram"><i class="fa fa-check"></i><b>4.2</b> Histograms: <code>geom_histogram()</code></a><ul>
<li class="chapter" data-level="4.2.1" data-path="histograms.html"><a href="histograms.html#the-three-critical-components"><i class="fa fa-check"></i><b>4.2.1</b> The Three Critical Components</a></li>
<li class="chapter" data-level="4.2.2" data-path="histograms.html"><a href="histograms.html#drawing-a-histogram"><i class="fa fa-check"></i><b>4.2.2</b> Drawing a Histogram</a></li>
<li class="chapter" data-level="4.2.3" data-path="histograms.html"><a href="histograms.html#but-geom_histogram-uses-counts"><i class="fa fa-check"></i><b>4.2.3</b> But <code>geom_histogram()</code> uses counts!</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="histograms.html"><a href="histograms.html#filtering-filter"><i class="fa fa-check"></i><b>4.3</b> Filtering: <code>filter()</code></a></li>
<li class="chapter" data-level="4.4" data-path="histograms.html"><a href="histograms.html#faceting-facet_wrap"><i class="fa fa-check"></i><b>4.4</b> Faceting: <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="4.5" data-path="histograms.html"><a href="histograms.html#density-plots-geom_density"><i class="fa fa-check"></i><b>4.5</b> Density Plots: <code>geom_density()</code></a></li>
<li class="chapter" data-level="4.6" data-path="histograms.html"><a href="histograms.html#color-and-fill"><i class="fa fa-check"></i><b>4.6</b> Color and Fill</a><ul>
<li class="chapter" data-level="4.6.1" data-path="histograms.html"><a href="histograms.html#color"><i class="fa fa-check"></i><b>4.6.1</b> Color</a></li>
<li class="chapter" data-level="4.6.2" data-path="histograms.html"><a href="histograms.html#fill"><i class="fa fa-check"></i><b>4.6.2</b> Fill</a></li>
<li class="chapter" data-level="4.6.3" data-path="histograms.html"><a href="histograms.html#alpha"><i class="fa fa-check"></i><b>4.6.3</b> Alpha</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="histograms.html"><a href="histograms.html#labels-labs"><i class="fa fa-check"></i><b>4.7</b> Labels: <code>labs()</code></a></li>
<li class="chapter" data-level="4.8" data-path="histograms.html"><a href="histograms.html#themes-theme_bw-and-others"><i class="fa fa-check"></i><b>4.8</b> Themes: <code>theme_bw()</code> and Others</a></li>
<li class="chapter" data-level="4.9" data-path="histograms.html"><a href="histograms.html#putting-it-all-together"><i class="fa fa-check"></i><b>4.9</b> Putting It All Together</a></li>
<li class="chapter" data-level="4.10" data-path="histograms.html"><a href="histograms.html#saving-plots-ggsave"><i class="fa fa-check"></i><b>4.10</b> Saving Plots: <code>ggsave()</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="average-and-sd.html"><a href="average-and-sd.html"><i class="fa fa-check"></i><b>5</b> Average and SD</a><ul>
<li class="chapter" data-level="5.1" data-path="average-and-sd.html"><a href="average-and-sd.html#the-intuition"><i class="fa fa-check"></i><b>5.1</b> The Intuition</a></li>
<li class="chapter" data-level="5.2" data-path="average-and-sd.html"><a href="average-and-sd.html#the-measures"><i class="fa fa-check"></i><b>5.2</b> The Measures</a><ul>
<li class="chapter" data-level="5.2.1" data-path="average-and-sd.html"><a href="average-and-sd.html#the-average"><i class="fa fa-check"></i><b>5.2.1</b> The Average</a></li>
<li class="chapter" data-level="5.2.2" data-path="average-and-sd.html"><a href="average-and-sd.html#the-median"><i class="fa fa-check"></i><b>5.2.2</b> The Median</a></li>
<li class="chapter" data-level="5.2.3" data-path="average-and-sd.html"><a href="average-and-sd.html#the-standard-deviation"><i class="fa fa-check"></i><b>5.2.3</b> The Standard Deviation</a></li>
<li class="chapter" data-level="5.2.4" data-path="average-and-sd.html"><a href="average-and-sd.html#other-summaries"><i class="fa fa-check"></i><b>5.2.4</b> Other Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html"><i class="fa fa-check"></i><b>6</b> Average and SD in R</a><ul>
<li class="chapter" data-level="6.1" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#mean-and-sd"><i class="fa fa-check"></i><b>6.1</b> <code>mean()</code> and <code>sd()</code></a><ul>
<li class="chapter" data-level="6.1.1" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#a-note-about-rs-sd-function"><i class="fa fa-check"></i><b>6.1.1</b> A Note About R’s <code>sd()</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="average-and-sd.html"><a href="average-and-sd.html#other-summaries"><i class="fa fa-check"></i><b>6.2</b> Other Summaries</a></li>
<li class="chapter" data-level="6.3" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#data-frame-nuance"><i class="fa fa-check"></i><b>6.3</b> Data Frame Nuance</a></li>
<li class="chapter" data-level="6.4" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#the-group_bysummarize-workflow"><i class="fa fa-check"></i><b>6.4</b> The <code>group_by()</code>/<code>summarize()</code> Workflow</a><ul>
<li class="chapter" data-level="6.4.1" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#group_by"><i class="fa fa-check"></i><b>6.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#summarize"><i class="fa fa-check"></i><b>6.4.2</b> <code>summarize()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="average-and-sd-in-r.html"><a href="average-and-sd-in-r.html#geom_line"><i class="fa fa-check"></i><b>6.5</b> <code>geom_line()</code></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-normal-model.html"><a href="the-normal-model.html"><i class="fa fa-check"></i><b>7</b> The Normal Model</a><ul>
<li class="chapter" data-level="7.1" data-path="average-and-sd.html"><a href="average-and-sd.html#the-intuition"><i class="fa fa-check"></i><b>7.1</b> The Intuition</a></li>
<li class="chapter" data-level="7.2" data-path="the-normal-model.html"><a href="the-normal-model.html#examples"><i class="fa fa-check"></i><b>7.2</b> Examples</a></li>
<li class="chapter" data-level="7.3" data-path="the-normal-model.html"><a href="the-normal-model.html#the-empirical-rule"><i class="fa fa-check"></i><b>7.3</b> The Empirical Rule</a></li>
<li class="chapter" data-level="7.4" data-path="the-normal-model.html"><a href="the-normal-model.html#the-normal-approximation"><i class="fa fa-check"></i><b>7.4</b> The Normal Approximation</a></li>
<li class="chapter" data-level="7.5" data-path="the-normal-model.html"><a href="the-normal-model.html#the-normal-table"><i class="fa fa-check"></i><b>7.5</b> The Normal Table</a></li>
<li class="chapter" data-level="7.6" data-path="the-normal-model.html"><a href="the-normal-model.html#using-a-normal-approximation"><i class="fa fa-check"></i><b>7.6</b> Using a Normal Approximation</a></li>
<li class="chapter" data-level="7.7" data-path="the-normal-model.html"><a href="the-normal-model.html#example-the-extremity-of-party-leaders"><i class="fa fa-check"></i><b>7.7</b> Example: The Extremity of Party Leaders</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="the-x-y-space.html"><a href="the-x-y-space.html"><i class="fa fa-check"></i><b>8</b> The X-Y Space</a><ul>
<li class="chapter" data-level="8.1" data-path="the-x-y-space.html"><a href="the-x-y-space.html#points"><i class="fa fa-check"></i><b>8.1</b> Points</a></li>
<li class="chapter" data-level="8.2" data-path="the-x-y-space.html"><a href="the-x-y-space.html#lines"><i class="fa fa-check"></i><b>8.2</b> Lines</a><ul>
<li class="chapter" data-level="8.2.1" data-path="the-x-y-space.html"><a href="the-x-y-space.html#the-intercept"><i class="fa fa-check"></i><b>8.2.1</b> The Intercept</a></li>
<li class="chapter" data-level="8.2.2" data-path="the-x-y-space.html"><a href="the-x-y-space.html#slope"><i class="fa fa-check"></i><b>8.2.2</b> Slope</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="the-scatterplot.html"><a href="the-scatterplot.html"><i class="fa fa-check"></i><b>9</b> The Scatterplot</a><ul>
<li class="chapter" data-level="9.1" data-path="the-scatterplot.html"><a href="the-scatterplot.html#geom_point"><i class="fa fa-check"></i><b>9.1</b> <code>geom_point()</code></a></li>
<li class="chapter" data-level="9.2" data-path="the-scatterplot.html"><a href="the-scatterplot.html#example-gamsons-law"><i class="fa fa-check"></i><b>9.2</b> Example: Gamson’s Law</a></li>
<li class="chapter" data-level="9.3" data-path="the-scatterplot.html"><a href="the-scatterplot.html#example-gapminder"><i class="fa fa-check"></i><b>9.3</b> Example: Gapminder</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html"><i class="fa fa-check"></i><b>10</b> Correlation Coefficient</a><ul>
<li class="chapter" data-level="10.1" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#intuition"><i class="fa fa-check"></i><b>10.1</b> Intuition</a></li>
<li class="chapter" data-level="10.2" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#computing"><i class="fa fa-check"></i><b>10.2</b> Computing</a><ul>
<li class="chapter" data-level="10.2.1" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#by-hand"><i class="fa fa-check"></i><b>10.2.1</b> By Hand</a></li>
<li class="chapter" data-level="10.2.2" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#with-r"><i class="fa fa-check"></i><b>10.2.2</b> With R</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#interpreting"><i class="fa fa-check"></i><b>10.3</b> Interpreting</a></li>
<li class="chapter" data-level="10.4" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html#example-clark-and-golder-2006"><i class="fa fa-check"></i><b>10.4</b> Example: Clark and Golder (2006)</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>11</b> Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="regression.html"><a href="regression.html#the-equation"><i class="fa fa-check"></i><b>11.1</b> The Equation</a></li>
<li class="chapter" data-level="11.2" data-path="regression.html"><a href="regression.html#the-conditional-average"><i class="fa fa-check"></i><b>11.2</b> The Conditional Average</a></li>
<li class="chapter" data-level="11.3" data-path="regression.html"><a href="regression.html#the-best-line"><i class="fa fa-check"></i><b>11.3</b> The Best Line</a><ul>
<li class="chapter" data-level="11.3.1" data-path="regression.html"><a href="regression.html#grid-search"><i class="fa fa-check"></i><b>11.3.1</b> Grid Search</a></li>
<li class="chapter" data-level="11.3.2" data-path="regression.html"><a href="regression.html#analytical-optimization"><i class="fa fa-check"></i><b>11.3.2</b> Analytical Optimization</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="regression.html"><a href="regression.html#the-rms-of-the-residuals"><i class="fa fa-check"></i><b>11.4</b> The RMS of the Residuals</a></li>
<li class="chapter" data-level="11.5" data-path="regression.html"><a href="regression.html#r2"><i class="fa fa-check"></i><b>11.5</b> <span class="math inline">\(R^2\)</span></a><ul>
<li class="chapter" data-level="11.5.1" data-path="regression.html"><a href="regression.html#adequacy-of-a-line"><i class="fa fa-check"></i><b>11.5.1</b> Adequacy of a Line</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="regression.html"><a href="regression.html#fitting-regression-models"><i class="fa fa-check"></i><b>11.6</b> Fitting Regression Models</a><ul>
<li class="chapter" data-level="11.6.1" data-path="regression.html"><a href="regression.html#geom_smooth"><i class="fa fa-check"></i><b>11.6.1</b> <code>geom_smooth()</code></a></li>
<li class="chapter" data-level="11.6.2" data-path="regression.html"><a href="regression.html#lm"><i class="fa fa-check"></i><b>11.6.2</b> <code>lm()</code></a></li>
<li class="chapter" data-level="11.6.3" data-path="regression.html"><a href="regression.html#quick-look-at-the-fit"><i class="fa fa-check"></i><b>11.6.3</b> Quick Look at the Fit</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="regression.html"><a href="regression.html#standard-errors-and-p-values"><i class="fa fa-check"></i><b>11.7</b> Standard Errors and <em>p</em>-Values</a></li>
<li class="chapter" data-level="11.8" data-path="regression.html"><a href="regression.html#a-warning"><i class="fa fa-check"></i><b>11.8</b> A Warning</a></li>
<li class="chapter" data-level="11.9" data-path="regression.html"><a href="regression.html#review-exercises"><i class="fa fa-check"></i><b>11.9</b> Review Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-a-normal-table.html"><a href="appendix-a-normal-table.html"><i class="fa fa-check"></i><b>A</b> Appendix: A Normal Table</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Concepts and Computation: An Introduction to Political Methodology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="statistical-computing-with-r" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Statistical Computing with R</h1>
<p>R is a complex, powerful statistical programming language. It’s also free! I use R to do all my empirical and methodological work. I use R to wrangle data, fit statistical models, perform simulation studies, and draw graphics.</p>
<p>R works by scripts. The user writes a program called a “script”" and R executes the program. This might intimidate you a little. That’s okay. It’s easier than it sounds, and I’m here to help you.</p>
<p>We’ll learn a lot about R this semester, but we’ll learn only <em>some</em> aspects of R. I have to include some features of R and exclude others. Just because I show you one way to tackle a problem doesn’t mean it’s the only (or the best) way. But in order to get you working with data ASAP, we have to exclude some important concepts and tools in R.</p>
<p>Rather than use R directly, though, we’ll use RStudio to manage and run our R programs. RStudio is simply a way to organize our R code. I use RStudio for all my R programming. I even use RStudio to write documents and make presentations using RMarkdown.</p>
<div id="r-as-a-calculator" class="section level2">
<h2><span class="header-section-number">2.1</span> R as a Calculator</h2>
<p>To get started with R, just open up RStudio and look around. If you want, you can use R like a calculator–just type directly into the console as you would a calculator.</p>
<div class="figure">
<img src="img/computing/rstudio-fresh.png" alt="" />
<p class="caption">Fresh installation of RStudio</p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="statistical-computing-with-r.html#cb1-1"></a><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="statistical-computing-with-r.html#cb3-1"></a><span class="dv">2</span><span class="op">*</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="statistical-computing-with-r.html#cb5-1"></a><span class="dv">2</span><span class="op">^</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="statistical-computing-with-r.html#cb7-1"></a><span class="dv">2</span><span class="op">/</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 0.6666667</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="statistical-computing-with-r.html#cb9-1"></a><span class="kw">exp</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 20.08554</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="statistical-computing-with-r.html#cb11-1"></a><span class="kw">log</span>(<span class="dv">2</span>)  <span class="co"># this is the natural log</span></span></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="statistical-computing-with-r.html#cb13-1"></a><span class="kw">sqrt</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1.414214</code></pre>
<p><strong>Review Exercises</strong></p>
<p>Using R as a calculator, calculate the following (in the console):</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(32 + 17\)</span></li>
<li><span class="math inline">\(32 \times 17\)</span></li>
<li><span class="math inline">\(\frac{32}{17}\)</span></li>
<li><span class="math inline">\(32^2\)</span></li>
<li><span class="math inline">\(\sqrt{32}\)</span></li>
<li><span class="math inline">\(\log{32}\)</span></li>
</ol>
</div>
<div id="scripts" class="section level2">
<h2><span class="header-section-number">2.2</span> Scripts</h2>
<p>Ultimately, we’ll want to write all of our code in scripts so that we can modify, reproduce, and check our work. From now on, almost everything we do will go in a script. The idea is not to do an analysis, but to write a script that can do an analysis for us.</p>
<div class="figure">
<img src="img/computing/rstudio-script.png" alt="" />
<p class="caption">Scripts in RStudio</p>
</div>
<p>To open a new R script, click <em>File</em>, <em>New File</em>, <em>R Script.</em> You can type lines of code directly into this script. In the upper-right corner of the script window, you’ll see a <em>Run</em> button. This runs the entire line that the cursor is currently on <em>or</em> all the highlighted lines. This is equivalent to Command + Enter (or Control + Enter on Windows). Unless the script takes a long time to run (and I don’t think any of ours will), I recommend hitting Command + A (or Control + A on Windows) to highlight the entire script and then Command + Enter (Control + Enter on Windows) to run <em>the entire script</em>. You need to get into the habit of running the entire script, because you want to entire script to work in one piece when you are done. It is much easier to do this if you’re running the entire script all along.</p>
<blockquote>
<p>ProTip: To run your code, press command + a (or control + a on Windows) and then press command + enter (or control + enter on Windows).</p>
</blockquote>
<p>To save this script, simply click <em>File</em> &gt; <em>Save.</em> I discuss <em>where</em> to save files a little later, but for now, just realize that R scripts will have a <code>.R</code> extension, such as <code>my-script.R</code> or <code>important-analysis.R</code>.</p>
<div id="importance" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Importance</h3>
<p>Doing your work in a script is important. You might have done a statistical analysis before or at least manipulated data with Excel. Most likely, you went though several steps and perhaps ended with a graph. That’s fantastic, but there are several problems.</p>
<ol style="list-style-type: decimal">
<li>If you want to re-do your analysis, you must go through the whole process again.</li>
<li>You might forget what you did. (I shouldn’t say “might”–you <em>will</em> forget.)</li>
<li>You cannot easily show others what you did. Instead, they must take your word for it.</li>
<li>You cannot make small changes to your analysis without going through the whole process again.</li>
</ol>
<p>Scripting solves each of these problems.</p>
<ol style="list-style-type: decimal">
<li>If you want to re-do your analysis, just open your script and click <em>Run.</em></li>
<li>If you forget what you did, just look at your script.</li>
<li>If you want to show others exactly what you did, just show them your script.</li>
<li>If you want to make a small change to your analysis, just make a small change to your script and click <em>Run.</em></li>
</ol>
<p>Scripting might seem like a lot more work. At first, it will be more work. By the end of the semester, it will be less work. As part of the papers you’ll write for this class, you’ll write a script.</p>
</div>
<div id="comments" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Comments</h3>
<p>You can also insert comments into R scripts. This is very important, especially when you are first learning to program. To insert a comment, simply type a pound or hash sign <code>#</code> (i.e., “hashtag” to me) anywhere in the code. Anything on the line after the hash will be ignored. I’ll always carefully comment my R code, and I’ll be even more careful about it for this class. Here’s an example of some commented code for the previous example.</p>
<div class="figure">
<img src="img/computing/comments.png" alt="" />
<p class="caption">Comments in R</p>
</div>
<blockquote>
<p>ProTip: Use comments often to clearly describe the code to others and your future self.</p>
</blockquote>
</div>
</div>
<div id="object-oriented-programming" class="section level2">
<h2><span class="header-section-number">2.3</span> Object-Oriented Programming</h2>
<p>But R is much more powerful than a simple calculator, partly because it allows object-oriented programming. You can store things as “objects” to reference later. Just about anything can be stored as an object, including variables, data sets, functions, numbers, and many others.</p>
<div id="scalars" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Scalars</h3>
<p>Let’s start with a single number, sometimes called a “scalar.” Let’s create an object <code>b</code> that holds or contains the number 2. To do this, we simply use the assignment operator <code>&lt;-</code>, which we read as “gets.”</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="statistical-computing-with-r.html#cb15-1"></a>b &lt;-<span class="st"> </span><span class="dv">2</span> <span class="co"># read as &quot;b gets 2&quot;</span></span></code></pre></div>
<p>We can be very creative with naming objects. Rather than <code>b</code>, we could have used <code>myobject</code>, <code>myObject</code>, <code>my.object</code>, or <code>my_object</code>. From a style perspective, I prefer <code>my_object</code> or <code>important_variable</code>. In general, you want to give objects descriptive names so that you code is easy to read, but short names so that the code is compact and easy to read and write.</p>
<blockquote>
<p>ProTip: Give objects short, descriptive names.</p>
</blockquote>
<p>We can now repeat some of the calculations from above, using <code>b</code> instead of two. Given that you know <code>b</code> equals two, check that the following calculations make sense.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="statistical-computing-with-r.html#cb16-1"></a>b <span class="op">+</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="statistical-computing-with-r.html#cb18-1"></a>b<span class="op">*</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="statistical-computing-with-r.html#cb20-1"></a>b<span class="op">^</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="statistical-computing-with-r.html#cb22-1"></a><span class="dv">3</span><span class="op">^</span>b</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="statistical-computing-with-r.html#cb24-1"></a>b<span class="op">/</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 0.6666667</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="statistical-computing-with-r.html#cb26-1"></a><span class="kw">exp</span>(b)</span></code></pre></div>
<pre><code>## [1] 7.389056</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="statistical-computing-with-r.html#cb28-1"></a><span class="kw">log</span>(b)</span></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="statistical-computing-with-r.html#cb30-1"></a><span class="kw">sqrt</span>(b)</span></code></pre></div>
<pre><code>## [1] 1.414214</code></pre>
<p>You probably realize that it would be easier to just use <code>2</code> rather than <code>b</code>. But we’ll be doing more complicated calculations. Rather than <code>b</code> holding scalars, it might hold thousands of survey responses. Rather than applying a simple function, we might apply many functions.</p>
</div>
<div id="functions" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Functions</h3>
<p>So what is a function? In the above examples <code>exp()</code>, <code>log()</code>, and <code>sqrt()</code> are functions. Importantly, functions are followed immediately by parentheses (i.e., <code>()</code>, not <code>[]</code> or <code>{}</code>, which have different meanings). <em>Arguments</em> are supplied in the functions that tell the function what to do.</p>
<p>You probably didn’t think about it at the time, but you can use many different bases when taking a logarithm. What base did we use when we ran <code>log(b)</code>? To see this, let’s open the help file.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="statistical-computing-with-r.html#cb32-1"></a><span class="kw">help</span>(log) <span class="co"># or, equivalently ?log</span></span></code></pre></div>
<div class="figure">
<img src="img/computing/log-help-file.png" alt="" />
<p class="caption">help file for log()</p>
</div>
<p>The section “Usage” shows the typical function syntax. The <code>log()</code> function takes up to two arguments. The first argument <code>x</code> is a “numeric vector.” We’ll talk more specifically about numeric vectors below, but for now, we can consider a scalar as a numeric vector. If we provide the arguments in the same order that the appear in the functions in the “Usage” section, then we do not have to name the argument, but we still can. For example, <code>log(b)</code> and <code>log(x = b)</code> are equivalent.</p>
<blockquote>
<p>ProTip: If you need to know how to use a particular function such as <code>exp()</code>, then type <code>help(exp)</code> or <code>?exp</code> into the console.</p>
</blockquote>
<p>You’ll also see from the help file that the default that default is <code>base = exp(1)</code>, where <code>exp(1)</code> is just the number <span class="math inline">\(e\)</span>, the base of the natural log. This means that if you don’t specify <code>base</code>, it will use <code>base = exp(1)</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="statistical-computing-with-r.html#cb33-1"></a><span class="kw">log</span>(b) <span class="co"># natural log</span></span></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="statistical-computing-with-r.html#cb35-1"></a><span class="kw">log</span>(b, <span class="dt">base =</span> <span class="kw">exp</span>(<span class="dv">1</span>)) <span class="co"># also natural log</span></span></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="statistical-computing-with-r.html#cb37-1"></a><span class="kw">log</span>(b, <span class="dt">base =</span> <span class="dv">10</span>) <span class="co"># base-10 log</span></span></code></pre></div>
<pre><code>## [1] 0.30103</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="statistical-computing-with-r.html#cb39-1"></a><span class="kw">log</span>(b, <span class="dv">10</span>) <span class="co"># also a base-10 log</span></span></code></pre></div>
<pre><code>## [1] 0.30103</code></pre>
<p>Notice that if we put the arguments in the proper order, we do not have to name the argument, so that <code>log(b, base = 10)</code> is equivalent to <code>log(b, 10)</code>. However, the meaning of <code>log(b, base = 10)</code> is more clear, so I prefer that approach.</p>
<blockquote>
<p>ProTip: If arguments are supplied to functions in the correct order, then names are unnecessary. However, names should be included whenever there might be doubt about the meaning of the argument. In practice, this most often means leaving the first argument unnamed and naming the rest.</p>
</blockquote>
<p><strong>Review Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Open a new script and give the object <code>x</code> the scalar 32.</li>
<li>Repeat the first set of review exercises using <code>x</code> rather than the number 32.</li>
<li>Add comments explaining what the code is doing.</li>
</ol>
</div>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Vectors</h3>
<p>But if we can only work with single numbers, we won’t get very far.</p>
<p>When we do statistical computing, we’ll usually want to work with collections of numbers (or collections of character strings, like <code>"Republican"</code> or <code>"Male"</code>). In an actual problem, the collection might contain thousands or millions of numbers. Maybe these are survey respondents’ ages or hourly stock prices over the last few years. Maybe they are a respondent’s sex (i.e., <code>"Male"</code> or <code>"Female"</code>) or party identification (i.e., <code>"Republican"</code>, <code>"Democrat"</code>, <code>"Independent"</code>, or <code>"Other"</code>).</p>
<p>We’ll call this collection of numbers or character strings a “vector” and we’ll refer to the number of elements in the vectors as the “length” of the vector.</p>
<p>There are several types of vectors, classified by the sort of elements they contain.</p>
<ul>
<li><code>numeric</code>: contain numbers, such as 1.1, 2.4, and 3.4. Sometimes numeric variables are subdivided into <code>integer</code> (whole numbers, e.g., 1, 2, 3, etc.) and <code>double</code> (fractions, e.g., 1.47, 3.35462, etc.).</li>
<li><code>character</code>: contain character strings, such as <code>"Republican"</code> or <code>"Argentina (2001)"</code>.</li>
<li><code>factor</code>: contain character strings, such as <code>"Very Liberal"</code>, <code>"Weak Republican"</code>, or <code>"Female"</code>. Similar to <code>character</code>, except the entire set of possible levels (and their ordering) is defined.</li>
<li><code>logical</code>: contain <code>TRUE</code> and/or <code>FALSE</code>.</li>
</ul>
<div id="numeric-vectors" class="section level4">
<h4><span class="header-section-number">2.3.3.1</span> Numeric Vectors</h4>
<p>Rather than the scalar <code>2</code>, for example, we might want to work with the collection <code>2</code>, <code>5</code>, <code>9</code>, <code>7</code>, and <code>3</code>. Let’s assign the collection above to the object <code>a</code>.</p>
<p>We can create a vector using the “collect” function <code>c()</code>.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="statistical-computing-with-r.html#cb41-1"></a>a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">3</span>)</span></code></pre></div>
<blockquote>
<p>ProTip: To create a vector, <em>one</em> tool we can use is the “collect” function <code>c()</code>.</p>
</blockquote>
<p>If we want to look at the object <code>a</code>, we need to enter <code>a</code> on a line by itself. This will print the object <code>a</code> for us to inspect. But since we only need to check this once, maybe we just type it in the console instead of including it in the script.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="statistical-computing-with-r.html#cb42-1"></a>a</span></code></pre></div>
<pre><code>## [1] 2 5 9 7 3</code></pre>
<p>We can now apply functions to the vector <code>a</code> just like we did for the scalar <code>b</code>. In each case, the function is applied to each element of the vector.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="statistical-computing-with-r.html#cb44-1"></a>a <span class="op">+</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1]  5  8 12 10  6</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="statistical-computing-with-r.html#cb46-1"></a>a<span class="op">*</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1]  6 15 27 21  9</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="statistical-computing-with-r.html#cb48-1"></a>a<span class="op">^</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1]   8 125 729 343  27</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="statistical-computing-with-r.html#cb50-1"></a><span class="dv">3</span><span class="op">^</span>a</span></code></pre></div>
<pre><code>## [1]     9   243 19683  2187    27</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="statistical-computing-with-r.html#cb52-1"></a>a<span class="op">/</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 0.6666667 1.6666667 3.0000000 2.3333333 1.0000000</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="statistical-computing-with-r.html#cb54-1"></a><span class="kw">exp</span>(a)</span></code></pre></div>
<pre><code>## [1]    7.389056  148.413159 8103.083928 1096.633158   20.085537</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="statistical-computing-with-r.html#cb56-1"></a><span class="kw">log</span>(a)</span></code></pre></div>
<pre><code>## [1] 0.6931472 1.6094379 2.1972246 1.9459101 1.0986123</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="statistical-computing-with-r.html#cb58-1"></a><span class="kw">log</span>(a, <span class="dt">base =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 0.3010300 0.6989700 0.9542425 0.8450980 0.4771213</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="statistical-computing-with-r.html#cb60-1"></a><span class="kw">sqrt</span>(a)</span></code></pre></div>
<pre><code>## [1] 1.414214 2.236068 3.000000 2.645751 1.732051</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="statistical-computing-with-r.html#cb62-1"></a><span class="co"># sum() adds all the elements together</span></span>
<span id="cb62-2"><a href="statistical-computing-with-r.html#cb62-2"></a><span class="kw">sum</span>(a)</span></code></pre></div>
<pre><code>## [1] 26</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="statistical-computing-with-r.html#cb64-1"></a><span class="co"># mean() finds the average--now we&#39;re doing statistics!</span></span>
<span id="cb64-2"><a href="statistical-computing-with-r.html#cb64-2"></a><span class="kw">mean</span>(a)</span></code></pre></div>
<pre><code>## [1] 5.2</code></pre>
<p>So far, we’ve only used numeric vectors–vectors that contain numbers. But we can create and work with other types of vectors as well. For now, let’s just illustrate two types: vectors of character strings, factors (and ordered factors), and logical vectors.</p>
<p><strong>Review Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>In a script (perhaps the script you began in the exercises above), create a numeric vector assigning the collection 2, 6, 4, 3, 5, and 17 to the object <code>my_vector</code>.</li>
<li>Create another numeric vector assigning the collection 64, 13, and 67 to the object <code>myOtherVector</code>.</li>
<li>Use the <code>sum()</code> function to add the elements of <code>my_vector</code> together.</li>
<li>Use the <code>sqrt()</code> function to take the square root of the elements of <code>myOtherVector</code>.</li>
<li>Add 3 to the elements of <code>my_vector</code>.</li>
<li>Add comments to the script explaining what this code is doing.</li>
</ol>
</div>
<div id="character-vectors" class="section level4">
<h4><span class="header-section-number">2.3.3.2</span> Character Vectors</h4>
<p>Character strings are simply letters (or numbers, I suppose) surrounded by quotes, such as <code>"Republican"</code> or <code>"Male"</code>. If we put <code>c()</code> (i.e., “combine”) together multiple character strings, then we have a character vector.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="statistical-computing-with-r.html#cb66-1"></a><span class="co"># create character vector</span></span>
<span id="cb66-2"><a href="statistical-computing-with-r.html#cb66-2"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Republican&quot;</span>, <span class="st">&quot;Democrat&quot;</span>, <span class="st">&quot;Republican&quot;</span>, <span class="st">&quot;Independent&quot;</span>)</span>
<span id="cb66-3"><a href="statistical-computing-with-r.html#cb66-3"></a></span>
<span id="cb66-4"><a href="statistical-computing-with-r.html#cb66-4"></a><span class="co"># print x</span></span>
<span id="cb66-5"><a href="statistical-computing-with-r.html#cb66-5"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;Republican&quot;  &quot;Democrat&quot;    &quot;Republican&quot;  &quot;Independent&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="statistical-computing-with-r.html#cb68-1"></a><span class="co"># for fun, try to multiply x times 3</span></span>
<span id="cb68-2"><a href="statistical-computing-with-r.html#cb68-2"></a>x<span class="op">*</span><span class="dv">3</span>  <span class="co"># doesn&#39;t work</span></span></code></pre></div>
<pre><code>## Error in x * 3: non-numeric argument to binary operator</code></pre>
<p>A comment about escapes: Inside a string (i.e., text surrounded by quotes, e.g., <code>"Male"</code>), a backslash <code>\</code> is considered an “escape.” For example <code>\n</code> represents new line and <code>\t</code> represents tab.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="statistical-computing-with-r.html#cb70-1"></a><span class="co"># new line</span></span>
<span id="cb70-2"><a href="statistical-computing-with-r.html#cb70-2"></a><span class="kw">cat</span>(<span class="st">&quot;Repub</span><span class="ch">\n</span><span class="st">lican&quot;</span>)</span></code></pre></div>
<pre><code>## Repub
## lican</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="statistical-computing-with-r.html#cb72-1"></a><span class="co"># tab</span></span>
<span id="cb72-2"><a href="statistical-computing-with-r.html#cb72-2"></a><span class="kw">cat</span>(<span class="st">&quot;Demo</span><span class="ch">\t</span><span class="st">crat&quot;</span>)</span></code></pre></div>
<pre><code>## Demo	crat</code></pre>
<p>This is important because filenames are sometimes represented with back-slashes, such as <code>data\nominate.csv</code>. If entered this way, R will not read the data properly, because it treats <code>\n</code> as an escape and tries to put a new line there.</p>
<p>The solution is to use two back-slashes to represent one (e.g., <code>data\\nominate.csv</code>). Or you can use a forward-slash <code>/</code> instead (e.g., <code>data/nominate.csv</code>). Note that Mac uses forward-slashes in file names by default, so it might not come up. For Windows users, though, you need to use either double back-slashes or switch to forward slashes.</p>
<p><strong>Review Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Create a character vector containing the elements Male, Female, Male, Male, and Female. Assign this vector to the object <code>sex</code>.</li>
<li>Create a character vector containing the elements Liberal, Moderate, Moderate, Conservative, and Liberal. Assign this vector to the object <code>ideology</code>.</li>
</ol>
</div>
<div id="factor-vectors" class="section level4">
<h4><span class="header-section-number">2.3.3.3</span> Factor Vectors</h4>
<p>A factor vector is much like a character vector, but can only take on predefined values. While we might use a character vector to encode a variable that can have a variety of values (e.g., respondent’s name), we might use a factor to encode a variable that can take on just a few values, such as party identification (e.g., “Republican,” “Independent,” “Democrat,” “Other”). We refer to the possible values of a factor as the “levels.”</p>
<p>Creating a factor is more tricky than creating a numeric or character vector. We might take several approaches, but I suggest the following two-step approach:</p>
<ol style="list-style-type: decimal">
<li>Create a character vector containing the information using <code>c()</code>.</li>
<li>Add the levels using the <code>factor</code> function.</li>
</ol>
<p>Factor vectors have two particular advantages over character vectors.</p>
<ol style="list-style-type: decimal">
<li>It allows us to easily see when one category has zero observations.</li>
<li>It allows us to control the order in which the categories appear. This will be useful, even for categorical variables that have no natural ordering (e.g., race, eye color).</li>
</ol>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="statistical-computing-with-r.html#cb74-1"></a><span class="co"># create a character vector</span></span>
<span id="cb74-2"><a href="statistical-computing-with-r.html#cb74-2"></a>pid &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Republican&quot;</span>, <span class="st">&quot;Republican&quot;</span>, <span class="st">&quot;Democrat&quot;</span>, <span class="st">&quot;Other&quot;</span>)</span>
<span id="cb74-3"><a href="statistical-computing-with-r.html#cb74-3"></a></span>
<span id="cb74-4"><a href="statistical-computing-with-r.html#cb74-4"></a><span class="co"># check type</span></span>
<span id="cb74-5"><a href="statistical-computing-with-r.html#cb74-5"></a><span class="kw">class</span>(pid)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="statistical-computing-with-r.html#cb76-1"></a><span class="co"># table pid</span></span>
<span id="cb76-2"><a href="statistical-computing-with-r.html#cb76-2"></a><span class="kw">table</span>(pid) <span class="co"># two problems: 1-weird order; 2-&quot;Indpendents&quot; missing</span></span></code></pre></div>
<pre><code>## pid
##   Democrat      Other Republican 
##          1          1          2</code></pre>
<p>We can fix these two problems by using a factor vector instead.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="statistical-computing-with-r.html#cb78-1"></a><span class="co"># create a factor vector in two steps</span></span>
<span id="cb78-2"><a href="statistical-computing-with-r.html#cb78-2"></a><span class="co">## step 1: create a character vector</span></span>
<span id="cb78-3"><a href="statistical-computing-with-r.html#cb78-3"></a>pid &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Republican&quot;</span>, <span class="st">&quot;Republican&quot;</span>, <span class="st">&quot;Democrat&quot;</span>, <span class="st">&quot;Other&quot;</span>)</span>
<span id="cb78-4"><a href="statistical-computing-with-r.html#cb78-4"></a><span class="co">## step 2: add levels using factor()</span></span>
<span id="cb78-5"><a href="statistical-computing-with-r.html#cb78-5"></a>pid &lt;-<span class="st"> </span><span class="kw">factor</span>(pid, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Republican&quot;</span>,</span>
<span id="cb78-6"><a href="statistical-computing-with-r.html#cb78-6"></a>                              <span class="st">&quot;Independent&quot;</span>,</span>
<span id="cb78-7"><a href="statistical-computing-with-r.html#cb78-7"></a>                              <span class="st">&quot;Democrat&quot;</span>,</span>
<span id="cb78-8"><a href="statistical-computing-with-r.html#cb78-8"></a>                              <span class="st">&quot;Other&quot;</span>))</span>
<span id="cb78-9"><a href="statistical-computing-with-r.html#cb78-9"></a></span>
<span id="cb78-10"><a href="statistical-computing-with-r.html#cb78-10"></a><span class="co"># check type</span></span>
<span id="cb78-11"><a href="statistical-computing-with-r.html#cb78-11"></a><span class="kw">class</span>(pid)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="statistical-computing-with-r.html#cb80-1"></a><span class="co"># table pid</span></span>
<span id="cb80-2"><a href="statistical-computing-with-r.html#cb80-2"></a><span class="kw">table</span>(pid) <span class="co"># two problems fixed</span></span></code></pre></div>
<pre><code>## pid
##  Republican Independent    Democrat       Other 
##           2           0           1           1</code></pre>
<p>You can see that by creating a factor variable that contains the level information, we can see that we have no Independents in our sample of four respondents. We can also control the ordering of the categories.</p>
<p><strong>Review Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Change the character vector <code>sex</code> created above to a factor vector. Be sure to explicitly add the levels. The order does not matter. Assign this new factor variable to the object <code>sex_factor</code>.</li>
<li>Change the character vector <code>ideology</code> created above to a factor vector. Be sure to explicitly add the levels. Use an intuitive ordering. Assign this new factor variable to the object <code>ideology_factor</code>.</li>
</ol>
</div>
<div id="logical-vectors" class="section level4">
<h4><span class="header-section-number">2.3.3.4</span> Logical Vectors</h4>
<p>Logical vectors contain elements that are true or false. R has a special way to represent true and false elements. R uses <code>TRUE</code> (without quotes) to represent true elements and <code>FALSE</code> (again, without quotes) to represent false elements. To create a logical vector, we can <code>c()</code> together a series of <code>TRUE</code>’s and/or <code>FALSE</code>’s.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="statistical-computing-with-r.html#cb82-1"></a><span class="co"># create logical vector</span></span>
<span id="cb82-2"><a href="statistical-computing-with-r.html#cb82-2"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</span>
<span id="cb82-3"><a href="statistical-computing-with-r.html#cb82-3"></a></span>
<span id="cb82-4"><a href="statistical-computing-with-r.html#cb82-4"></a><span class="co"># print x</span></span>
<span id="cb82-5"><a href="statistical-computing-with-r.html#cb82-5"></a>x</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE  TRUE FALSE</code></pre>
<p><strong>Review Excercises</strong></p>
<ol style="list-style-type: decimal">
<li>Create the logical vector containing. True, False, False, True, and True. Assign it to the object <code>logic1</code>.</li>
<li>Multiply <code>logic1</code> times 3. What do you get? Does that make sense?</li>
</ol>
</div>
</div>
<div id="more-information" class="section level3">
<h3><span class="header-section-number">2.3.4</span> More Information</h3>
<p>You should treat my notes as incomplete. I gloss over some potentially relevant distinction to get you up and going quickly. For a complete description of vectors, see <a href="https://adv-r.hadley.nz/vectors-chap.html">chapter 4</a> of <em>Advanced R Programming</em>. You can find a similar description in <a href="http://r4ds.had.co.nz/vectors.html">chapter 20</a> of <em>R4DS</em>.</p>
<p>I don’t mention dates and times at all, but R makes it easy to work with vectors of dates and date-times. We’ll discuss those when we get talk about data wrangling, because it’s a more advanced topic. For reference, you can see the <a href="https://lubridate.tidyverse.org">lubridate page</a> on the tidyverse website.</p>
</div>
</div>
<div id="missing-values" class="section level2">
<h2><span class="header-section-number">2.4</span> Missing Values</h2>
<p>Missing data are extremely common in statistics. For example, a survey respondent might refuse to reveal her age or income. Or we might not know the GDP or child mortality rate for a particular country in a particular year. In R, we can represent these values with <code>NA</code> (“not available”). Notice that <code>NA</code> does not have quotes.</p>
<p>Different functions handle <code>NA</code>’s differently. Some function will drop missing values (e.g., compute the statistic using the non-missing data) and other functions will fail. Most of the simple functions that we’ll use at first will fail by default (e.g., <code>sum()</code>, <code>mean()</code>), but many of the more advanced functions we’ll use later (e.g., <code>lm()</code>) will drop missing values by default.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="statistical-computing-with-r.html#cb84-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">2</span>)</span>
<span id="cb84-2"><a href="statistical-computing-with-r.html#cb84-2"></a><span class="kw">log</span>(x) <span class="co"># doesn&#39;t fail: computes the log for observed data, returns NA for missing data</span></span></code></pre></div>
<pre><code>## [1] 0.0000000 1.3862944 1.0986123        NA 0.6931472</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="statistical-computing-with-r.html#cb86-1"></a><span class="kw">sum</span>(x) <span class="co"># fails: can&#39;t know the sum without know the value of the missing data</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="statistical-computing-with-r.html#cb88-1"></a><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)  <span class="co"># doesn&#39;t fail: setting na.rm = TRUE tell the function to drop the missing data</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p><strong>Review Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Create the object <code>x</code> using <code>x &lt;- c(1, 4, 3, NA, 2)</code>. Using <code>mean()</code> to find the mean of <code>x</code> with and without using the argument <code>na.rm = TRUE</code>. In a comment, explain why the results are different. Is <code>na.rm = TRUE</code> a reasonable choice?</li>
<li>Repeat using <code>sum()</code> rather than <code>mean()</code>.</li>
</ol>
</div>
<div id="logical-operators" class="section level2">
<h2><span class="header-section-number">2.5</span> Logical Operators</h2>
<p>Occasionally, we’d like R to test whether a certain condition holds. We’ll use this most often to choose a subset of a data set. For example, we might need only the data from the 100th Congress (from a data set that contains all Congresses) or only data before 1990 (for a data set that contains all years from 1945 to 2000).</p>
<p>The logical operators in R are <code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>&gt;=</code>, <code>&gt;</code>, and <code>!=</code>. Notice that we must use <code>==</code>, not <code>=</code>, to test for (exact) equality. We use <code>!=</code> to test for inequality. We can use <code>&amp;</code> to represent “and” conditions and <code>|</code> to represent “or.” Logical operators return either <code>TRUE</code> or <code>FALSE</code>.</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“less than”</td>
<td><code>&lt;</code></td>
</tr>
<tr class="even">
<td>“less than or equal to”</td>
<td><code>&lt;=</code></td>
</tr>
<tr class="odd">
<td>“exactly equal to”</td>
<td><code>==</code></td>
</tr>
<tr class="even">
<td>“greater than or equal to”</td>
<td><code>&gt;=</code></td>
</tr>
<tr class="odd">
<td>“greater than”</td>
<td><code>&gt;</code></td>
</tr>
<tr class="even">
<td>“not equal to”</td>
<td><code>!=</code></td>
</tr>
<tr class="odd">
<td>“or”</td>
<td><code>|</code></td>
</tr>
<tr class="even">
<td>“and”</td>
<td><code>&amp;</code></td>
</tr>
</tbody>
</table>
<p>Try running some of the following. Make sure you can anticipate the result.</p>
<pre><code># less than
2 &lt; 1
2 &lt; 2
2 &lt; 3

# less than or equal to
2 &lt;= 1
2 &lt;= 2
2 &lt;= 3

# equal to
2 == 1
2 == 2
2 == 3

# greater than or equal to
2 &gt;= 1
2 &gt;= 2
2 &gt;= 3

# greater than
2 &gt; 1
2 &gt; 2
2 &gt; 3

# not equal to
2 != 1
2 != 2
2 != 3

# or 
(1 &gt; 2) | (3 &gt; 4)
(1 &lt; 2) | (2 &gt; 4)
(1 &lt; 2) | (3 &lt; 4)

# and
(1 &gt; 2) &amp; (3 &gt; 4)
(1 &lt; 2) &amp; (2 &gt; 4)
(1 &lt; 2) &amp; (3 &lt; 4)</code></pre>
<p><strong>Review Exercises</strong></p>
<p>Use logical operators to test the whether each element of <code>my_vector</code> (created above) is…</p>
<ol style="list-style-type: decimal">
<li>greater than 3.</li>
<li>less than 3.</li>
<li>equal to 3</li>
<li>greater than 3 or less than 3.</li>
<li>less than or equal to 3</li>
<li>greater than or equal to 3</li>
<li>greater than 2 or less than 1</li>
<li>greater than 2 and less than 1</li>
<li>greater than 1 and less than 2</li>
</ol>
</div>
<div id="packages" class="section level2">
<h2><span class="header-section-number">2.6</span> Packages</h2>
<p>Because R is an open-source program, it is easy to write extensions, and thousands of people have. These extensions come in the form of “packages” and these packages contain mostly functions that do stuff with data. For example, I’ve written an R package that does plotting. (I’ve since deferred to ggplot2). I’ve written another package that estimates statistical model. Hadley Wickam has written many R packages, some of which we’ll use. He’s written haven, which we can use to read proprietary data formats, such as Stata (<code>.dta</code>) files. He’s also written readr, which we can use to <em>quickly</em> read in better formats, such as comma-separated values (<code>.csv</code>), which I’ll encourage you to use throughout the course. He’s also written a package that is helpful for creating plots called ggplot2. We see that later.</p>
<p>In order to use a package, it must be installed once and then loaded in each session (i.e., after each restart). Some packages come pre-installed in R (e.g., stats, MASS). Some of these pre-installed packages are automatically loaded in each session (e.g., stats), while others must be loaded manually in each session (e.g., MASS) if you want to use them. Other packages that do not come pre-installed with R need to be installed manually (but just once) and loaded in each session.</p>
<div id="installing-packages" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Installing Packages</h3>
<p>If you click the “Packages” tab in RStudio (positioned in the upper-right panel by default), it will show you a list packages that are currently installed. I’ve attached a screenshot of my installed packages below, but your’s might look slightly different–I’ve probably installed a lot more than you.</p>
<div class="figure">
<img src="img/computing/rstudio-packages-list.png" alt="" />
<p class="caption">List of packages in RStudio</p>
</div>
<p>If you want to use a function from a package and it is <strong>not installed</strong>, you must first install it. Most R packages are available on CRAN, and can be installed with the <code>install.packages()</code> function.</p>
<pre><code>install.packages(&quot;ggrepel&quot;)
install.packages(&quot;ggthemes&quot;)</code></pre>
<p>If you want to go ahead and install these packages, feel free–we’ll use them later. RStudio might ask you to choose a mirror. If so, just choose something close to you–it doesn’t really matter.</p>
<p>If you look at your list of installed packages again, you should see <code>ggrepel</code> and <code>ggthemes</code>.</p>
<p>You only need to install a package once. Once you’ve installed it, you have it on your hard drive.</p>
</div>
<div id="loading-packages" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Loading Packages</h3>
<p>In order to use function from a package, though, the package must be installed <em>and</em> loaded. In the packages list, the check box (beside the package name) indicates whether the package is loaded. In the screenshot above, you can see that I only had one package loaded at the time I took the screenshot–blme, a package useful for estimating Bayesian linear mixed-effects models.</p>
<p>Let’s see how to access functions that are in packages. First, let’s create some data to plot.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="statistical-computing-with-r.html#cb92-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>)</span>
<span id="cb92-2"><a href="statistical-computing-with-r.html#cb92-2"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>Now let’s try to use the <code>qplot()</code> function in the ggplot2 package to create a scatterplot of <code>x</code> and <code>y</code>. I’m assuming that you’ve already installed the ggplot2 package (it’s included in the tidyverse package).</p>
<p>Now, let’s try to use <code>qplot()</code>.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="statistical-computing-with-r.html#cb93-1"></a><span class="kw">qplot</span>(x, y)</span></code></pre></div>
<pre><code>## Error in qplot(x, y): could not find function &quot;qplot&quot;</code></pre>
<p>You’ll notice that the <code>qplot()</code> function cannot be found. That’s because while ggplot2 is <em>installed</em> (i.e., present in the library), it is not loaded (i.e., off the shelf). If you want to use a function from the ggplot2 package, you need to load the package using the <code>library()</code> function. You need to load the package each time you start a new session (e.g., restart RStudio), so be sure to include this in your script. Notice that you do not need to use quotes around the name of the package when using the <code>library()</code> function.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="statistical-computing-with-r.html#cb95-1"></a><span class="kw">library</span>(ggplot2)</span></code></pre></div>
<pre><code>## Warning: package &#39;ggplot2&#39; was built under R version 3.6.2</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="statistical-computing-with-r.html#cb97-1"></a><span class="kw">qplot</span>(x, y)</span></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>When we use <code>library()</code>, it loads the entire set of functions in the package into our workspace, making them all accessible to us. There are literally hundreds of functions in the ggplot2 package. If we prefer to avoid loading all the functions, we can use the syntax <code>package::function()</code> to tell R where to find the function in the library without loading all the functions into the workspace.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="statistical-computing-with-r.html#cb98-1"></a>ggplot2<span class="op">::</span><span class="kw">qplot</span>(x, y)</span></code></pre></div>
<p><img src="notes_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p><code>ggplot2::qplot(x, y)</code> will work whether or not ggplot2 is loaded.</p>
<p>I don’t have strong feelings about which approach is better–it depends on the context. If you only need to use one function from package one time, then perhaps it makes more sense to use the <code>package::function()</code> approach. If you’ll be using many functions many times, then it makes sense to use <code>library()</code>. Use whichever makes most sense to you. However, I’ll tend to use <code>package::function()</code> a lot, because it makes it clear where the function is coming from.</p>
<p><strong>Review Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Install and load the GGally package. Write a simple example of a function in the package. Use example code from the <a href="http://ggobi.github.io/ggally/#ggally">vignette</a>.</li>
<li>Install and load the ggdag package. Write a simple example of a function in the package. Use example code from the <a href="https://cran.r-project.org/web/packages/ggdag/vignettes/intro-to-ggdag.html">vignette</a>.</li>
<li>Install and load the texreg package. Write a simple example of a function in the package. Perhaps try the code below. If you are feeling ambitious, you might try compiling a LaTeX document with the LaTeX code output by <code>texreg()</code>. If you do this, be sure to start with the LaTeX template from <a href="https://github.com/pos5737/50-legs">50-legs</a> or the very minimal template from Homework 1.</li>
</ol>
<pre><code>library(texreg)
fit1 &lt;- lm(Fertility ~ . , data = swiss)
fit2 &lt;- update(fit1, . ~ . -Examination)
screenreg(list(fit1, fit2))
texreg(list(fit1, fit2))</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="loading-data-into-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["notes.pdf", "notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
